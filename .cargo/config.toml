# Cargo 构建配置

[build]
# 增量编译（开发时加速）
incremental = true

[target.x86_64-unknown-linux-gnu]
rustflags = [
    "-C", "target-cpu=x86-64-v2",  # 使用较新的 CPU 指令集
    "-C", "link-arg=-fuse-ld=lld", # 使用更快的链接器（如果可用）
]

[target.x86_64-apple-darwin]
rustflags = [
    "-C", "target-cpu=x86-64-v2",
]

[target.aarch64-apple-darwin]
rustflags = [
    "-C", "target-cpu=native",     # 自动检测当前 CPU（M1/M2/M3/M4）
]

[target.x86_64-pc-windows-msvc]
rustflags = [
    "-C", "target-cpu=x86-64-v2",
]

# Release 构建优化
[profile.release]
# 这些设置会与 Cargo.toml 中的合并
