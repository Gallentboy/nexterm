# æ•°æ®åº“é…ç½®è¯´æ˜

## ğŸ“ æ•°æ®åº“æ–‡ä»¶ä½ç½®

### é»˜è®¤é…ç½®
å¦‚æœä¸è®¾ç½®ç¯å¢ƒå˜é‡,æ•°æ®åº“æ–‡ä»¶ä¼šåˆ›å»ºåœ¨:
```
å½“å‰å·¥ä½œç›®å½•/app.db
```

**ç¤ºä¾‹:**
- å¦‚æœåœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ: `/Users/zhangyue/IdeaProjects/ssh/sc/app.db`
- å¦‚æœåœ¨ target/debug è¿è¡Œ: `/Users/zhangyue/IdeaProjects/ssh/sc/target/debug/app.db`

### ä½¿ç”¨ç¯å¢ƒå˜é‡

#### æ–¹æ³• 1: ä½¿ç”¨ .env æ–‡ä»¶
```bash
# åˆ›å»º .env æ–‡ä»¶
cp .env.example .env

# ç¼–è¾‘ .env æ–‡ä»¶
DATABASE_URL=sqlite://./data/app.db
```

#### æ–¹æ³• 2: å‘½ä»¤è¡Œè®¾ç½®
```bash
# ä¸´æ—¶è®¾ç½®
DATABASE_URL=sqlite://./data/app.db cargo run

# æˆ–è€…å¯¼å‡ºç¯å¢ƒå˜é‡
export DATABASE_URL=sqlite://./data/app.db
cargo run
```

## ğŸ¯ æ¨èé…ç½®

### å¼€å‘ç¯å¢ƒ
```bash
# .env
DATABASE_URL=sqlite://./app.db
```
æ•°æ®åº“æ–‡ä»¶: `é¡¹ç›®æ ¹ç›®å½•/app.db`

### ç”Ÿäº§ç¯å¢ƒ
```bash
# ä½¿ç”¨ç»å¯¹è·¯å¾„
DATABASE_URL=sqlite:///var/lib/ssh-sc/app.db
```

æˆ–è€…ä½¿ç”¨ä¸“é—¨çš„æ•°æ®ç›®å½•:
```bash
DATABASE_URL=sqlite://./data/app.db
```

## ğŸ“‚ ç›®å½•ç»“æ„å»ºè®®

```
sc/
â”œâ”€â”€ src/
â”œâ”€â”€ migrations/
â”œâ”€â”€ data/              # æ•°æ®ç›®å½•(å¯é€‰)
â”‚   â””â”€â”€ app.db        # æ•°æ®åº“æ–‡ä»¶
â”œâ”€â”€ app.db            # æˆ–è€…ç›´æ¥æ”¾åœ¨æ ¹ç›®å½•
â”œâ”€â”€ .env              # ç¯å¢ƒå˜é‡é…ç½®(ä¸æäº¤åˆ° git)
â”œâ”€â”€ .env.example      # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â””â”€â”€ .gitignore
```

## ğŸ”§ .gitignore é…ç½®

ç¡®ä¿ä»¥ä¸‹å†…å®¹åœ¨ `.gitignore` ä¸­:
```
# æ•°æ®åº“æ–‡ä»¶
*.db
*.db-shm
*.db-wal

# ç¯å¢ƒå˜é‡
.env

# æ•°æ®ç›®å½•
/data/
```

## ğŸš€ è¿è¡Œç¤ºä¾‹

### ä½¿ç”¨é»˜è®¤é…ç½®
```bash
cargo run
# æ•°æ®åº“: ./app.db
```

### æŒ‡å®šæ•°æ®åº“è·¯å¾„
```bash
# ä½¿ç”¨ data ç›®å½•
mkdir -p data
DATABASE_URL=sqlite://./data/app.db cargo run

# ä½¿ç”¨ç»å¯¹è·¯å¾„
DATABASE_URL=sqlite:///tmp/app.db cargo run
```

## ğŸ“Š æ•°æ®åº“æ–‡ä»¶è¯´æ˜

SQLite ä¼šåˆ›å»ºä»¥ä¸‹æ–‡ä»¶:
- `app.db` - ä¸»æ•°æ®åº“æ–‡ä»¶
- `app.db-shm` - å…±äº«å†…å­˜æ–‡ä»¶(ä¸´æ—¶)
- `app.db-wal` - Write-Ahead Log æ–‡ä»¶(ä¸´æ—¶)

## ğŸ” æŸ¥çœ‹æ•°æ®åº“ä½ç½®

ç¨‹åºå¯åŠ¨æ—¶ä¼šåœ¨æ—¥å¿—ä¸­è¾“å‡ºæ•°æ®åº“è¿æ¥ä¿¡æ¯:
```
æ•°æ®åº“è¿æ¥: sqlite://./app.db
```

## ğŸ’¡ æœ€ä½³å®è·µ

1. **å¼€å‘ç¯å¢ƒ**: ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `sqlite://./app.db`
2. **ç”Ÿäº§ç¯å¢ƒ**: ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–ä¸“é—¨çš„æ•°æ®ç›®å½•
3. **å¤‡ä»½**: å®šæœŸå¤‡ä»½ `.db` æ–‡ä»¶
4. **æƒé™**: ç¡®ä¿åº”ç”¨æœ‰è¯»å†™æƒé™
5. **ç‰ˆæœ¬æ§åˆ¶**: ä¸è¦å°†æ•°æ®åº“æ–‡ä»¶æäº¤åˆ° git
