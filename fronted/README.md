# SSH ç®¡ç†ç³»ç»Ÿ - å‰ç«¯é¡¹ç›®

åŸºäº Vite + React + TypeScript + shadcn/ui æ„å»ºçš„ç°ä»£åŒ– SSH ç®¡ç†ç³»ç»Ÿå‰ç«¯ã€‚

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: React 19 + TypeScript
- **æ„å»ºå·¥å…·**: Vite (Rolldown)
- **UI ç»„ä»¶**: shadcn/ui
- **æ ·å¼**: Tailwind CSS v4
- **è·¯ç”±**: React Router v7
- **è¡¨å•**: React Hook Form + Zod
- **HTTP å®¢æˆ·ç«¯**: Axios
- **åŒ…ç®¡ç†å™¨**: pnpm

## é¡¹ç›®ç»“æ„

```
fronted/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ client.ts        # Axios å®¢æˆ·ç«¯é…ç½®
â”‚   â”‚   â””â”€â”€ auth.ts          # è®¤è¯ç›¸å…³ API
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/              # shadcn/ui ç»„ä»¶
â”‚   â”‚   â””â”€â”€ layout/          # å¸ƒå±€ç»„ä»¶
â”‚   â”‚       â””â”€â”€ protected-route.tsx  # å—ä¿æŠ¤è·¯ç”±
â”‚   â”œâ”€â”€ contexts/            # React Context
â”‚   â”‚   â””â”€â”€ auth-context.tsx # è®¤è¯ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€ pages/               # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ login.tsx        # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ register.tsx     # æ³¨å†Œé¡µé¢
â”‚   â”‚   â””â”€â”€ dashboard.tsx    # ä»ªè¡¨æ¿é¡µé¢
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•°
â”‚   â”‚   â””â”€â”€ utils.ts         # shadcn/ui å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ App.tsx              # åº”ç”¨ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx             # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css            # å…¨å±€æ ·å¼
â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡
â”œâ”€â”€ vite.config.ts           # Vite é…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScript é…ç½®
â””â”€â”€ package.json             # é¡¹ç›®ä¾èµ–

```

## åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®ç°

- [x] ç”¨æˆ·ç™»å½•
- [x] ç”¨æˆ·æ³¨å†Œ
- [x] ä¼šè¯ç®¡ç† (Cookie-based)
- [x] å—ä¿æŠ¤è·¯ç”±
- [x] è¡¨å•éªŒè¯
- [x] é”™è¯¯å¤„ç†
- [x] å“åº”å¼è®¾è®¡
- [x] æ·±è‰²æ¨¡å¼æ”¯æŒ

### ğŸš§ å¾…å¼€å‘

- [ ] æœåŠ¡å™¨ç®¡ç†
- [ ] SSH WebSocket è¿æ¥
- [ ] SFTP æ–‡ä»¶ä¼ è¾“
- [ ] ç”¨æˆ·è®¾ç½®
- [ ] ä¿®æ”¹å¯†ç 

## å¼€å‘æŒ‡å—

### å®‰è£…ä¾èµ–

```bash
pnpm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
pnpm dev
```

è®¿é—® http://localhost:5174

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
pnpm build
```

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
pnpm preview
```

## ç¯å¢ƒå˜é‡

åœ¨ `.env` æ–‡ä»¶ä¸­é…ç½®:

```env
# API åŸºç¡€ URL
VITE_API_URL=http://localhost:3000/api

# WebSocket URL
VITE_WS_URL=ws://localhost:3000
```

## API é›†æˆ

### è®¤è¯æµç¨‹

1. **ç™»å½•**: POST `/api/auth/login`
   - å‘é€ç”¨æˆ·åå’Œå¯†ç 
   - æœåŠ¡å™¨è¿”å›ç”¨æˆ·ä¿¡æ¯å¹¶è®¾ç½® Cookie

2. **ä¼šè¯éªŒè¯**: GET `/api/auth/me`
   - æºå¸¦ Cookie éªŒè¯ä¼šè¯
   - è¿”å›å½“å‰ç”¨æˆ·ä¿¡æ¯

3. **ç™»å‡º**: POST `/api/auth/logout`
   - æ¸…é™¤æœåŠ¡å™¨ç«¯ä¼šè¯

### Cookie é…ç½®

- Cookie åç§°: `id`
- HttpOnly: true
- SameSite: Strict
- è‡ªåŠ¨æºå¸¦åœ¨æ‰€æœ‰ API è¯·æ±‚ä¸­

## è·¯ç”±ç»“æ„

- `/login` - ç™»å½•é¡µé¢ (å…¬å¼€)
- `/register` - æ³¨å†Œé¡µé¢ (å…¬å¼€)
- `/dashboard` - ä»ªè¡¨æ¿ (éœ€è¦ç™»å½•)
- `/` - é‡å®šå‘åˆ° `/dashboard`

## ç»„ä»¶è¯´æ˜

### AuthProvider

å…¨å±€è®¤è¯çŠ¶æ€ç®¡ç†,æä¾›:
- `user`: å½“å‰ç”¨æˆ·ä¿¡æ¯
- `loading`: åŠ è½½çŠ¶æ€
- `login()`: ç™»å½•æ–¹æ³•
- `logout()`: ç™»å‡ºæ–¹æ³•
- `refreshUser()`: åˆ·æ–°ç”¨æˆ·ä¿¡æ¯

### ProtectedRoute

å—ä¿æŠ¤è·¯ç”±ç»„ä»¶,è‡ªåŠ¨:
- æ£€æŸ¥ç”¨æˆ·ç™»å½•çŠ¶æ€
- æœªç™»å½•æ—¶é‡å®šå‘åˆ°ç™»å½•é¡µ
- æ˜¾ç¤ºåŠ è½½çŠ¶æ€

## æ ·å¼æŒ‡å—

ä½¿ç”¨ Tailwind CSS v4 å’Œ shadcn/ui çš„è®¾è®¡ç³»ç»Ÿ:

- ä¸»é¢˜è‰²: å¯åœ¨ `src/index.css` ä¸­è‡ªå®šä¹‰
- æ”¯æŒæ·±è‰²æ¨¡å¼
- å“åº”å¼æ–­ç‚¹: `sm`, `md`, `lg`, `xl`, `2xl`

## æœ€ä½³å®è·µ

1. **ç±»å‹å®‰å…¨**: æ‰€æœ‰ API è°ƒç”¨éƒ½æœ‰å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰
2. **é”™è¯¯å¤„ç†**: ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·åé¦ˆ
3. **è¡¨å•éªŒè¯**: ä½¿ç”¨ Zod schema è¿›è¡Œå®¢æˆ·ç«¯éªŒè¯
4. **ä»£ç ç»„ç»‡**: æŒ‰åŠŸèƒ½æ¨¡å—ç»„ç»‡ä»£ç 
5. **ç»„ä»¶å¤ç”¨**: ä½¿ç”¨ shadcn/ui ç»„ä»¶åº“

## å¼€å‘å»ºè®®

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/pages/` åˆ›å»ºé¡µé¢ç»„ä»¶
2. åœ¨ `App.tsx` ä¸­æ·»åŠ è·¯ç”±
3. å¦‚éœ€ä¿æŠ¤,ä½¿ç”¨ `ProtectedRoute` åŒ…è£¹

### æ·»åŠ æ–° API

1. åœ¨ `src/api/` åˆ›å»ºæœåŠ¡æ–‡ä»¶
2. å®šä¹‰ TypeScript æ¥å£
3. ä½¿ç”¨ `apiClient` å‘é€è¯·æ±‚

### æ·»åŠ  UI ç»„ä»¶

```bash
pnpm dlx shadcn@latest add [component-name]
```

## æ•…éšœæ’é™¤

### CORS é”™è¯¯

ç¡®ä¿åç«¯é…ç½®äº†æ­£ç¡®çš„ CORS è®¾ç½®,å…è®¸ `http://localhost:5174` è®¿é—®ã€‚

### Cookie æœªå‘é€

æ£€æŸ¥:
1. `axios` é…ç½®ä¸­ `withCredentials: true`
2. åç«¯ CORS é…ç½®ä¸­ `credentials: true`
3. Cookie çš„ `SameSite` å’Œ `Secure` å±æ€§

## è´¡çŒ®æŒ‡å—

1. éµå¾ªç°æœ‰ä»£ç é£æ ¼
2. æ·»åŠ é€‚å½“çš„ç±»å‹å®šä¹‰
3. ç¼–å†™æ¸…æ™°çš„æ³¨é‡Š
4. æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

## è®¸å¯è¯

MIT
